---
layout: post
title: "Emacs for Data Science"
image: /img/emacs.png
tags: [Emacs, Data Science, Personal]
---

As a data scientist, you'd need to learn several tools and technology stacks. The learning curve required for each of those can get overwhelming. On top of it, each tool and technology would require some familiarity with its own default editor. It is difficult to concentrate on a singular task when there are more than five different applications open, each taking a chunk of memory, requiring a different set of commands and compilation options. For most of the tasks that I've come across, Emacs solves this problem. What follows is a brief overview of the tools that I frequently use and how Emacs modes can makes life easier.

## Frequent Technology Stack in Data Science

1. R language
2. RMarkdown files
3. Python
4. IPython notebooks
5. Git
6. command line shell
7. grep through files
8. Editing environment over ssh connection
9. File transfer over ssh
10. Database and SQL interface
11. Markdown
12. Task lists
13. Latex

In the next Section, I'd discuss the different modes and my configuration of Emacs for those Sections.

## Emacs modes

Emacs provides major and minor modes for each buffer. For one buffer, only one major mode is active whereas you can have multiple active minor ones. Major modes are usually programming language specific; the minor modes can include things like spell check [(flyspell)](https://www.emacswiki.org/emacs/FlySpell), fly hints for function parameters [(eldoc)](https://www.emacswiki.org/emacs/ElDoc), autopairing of brackets [(autopair)](https://github.com/joaotavora/autopair), [(auto-completion)](https://github.com/auto-complete/auto-complete) among others. 
The minor modes provide you with uniform helper functions while switching between different modes.

### R language

For R language, one of the default editors is RStudio. Emacs has [ESS mode](https://ess.r-project.org/). It provides almost all the functionality of RStudio, augmented with documentation help, function completion, argument help, and numerous evaluation options. Furthermore, it will serve as a major mode for SAS, Julia, Stata and most of the other statistical packages. The image below shows how the environment looks while coding it looks 
![alt text](/img/RMode.png "R code on Emacs with autocompletion options")
As you can see, the view is quite lean with the same power as RStudio. The bottom buffer is R console, Emacs' command line shows arguments, and the working window is showing autocompletion options with documentation of parameter. I'd go into details of creating Shiny apps later, with some minor modes, autocompletion between ui.R and server.R makes it easier to work in Emacs as compared to RStudio. A good article about ESS integration is provided by [Caroline Wiley](http://www.u.arizona.edu/~crhummel/install.pdf).

### R Markdown

R Markdown provides one of the best platforms for creating reproducible data driven documents. You can embed, text, latex, html and code all into one file. It can be used for creating presentations, documents and even websites (with shiny package). For RMarkdown, you'd need syntax highlighting for both markdown style writing and power of ESS mode for R. This requires two modes and is solved by Polymode. A good blog post for configuration is provided by [John Stanton](http://johnstantongeddes.org/open%20science/2014/03/26/Rmd-polymode.html). An image of how an RMarkdown environment is shown in image below.
![alt text](/img/rmarkdown.png "RMarkdown environment in Emacs")


### Python

A very detailed and amazing post is written about using Emacs as an IDE for Python by [Jess Hamrick](http://www.jesshamrick.com/2012/09/18/emacs-as-a-python-ide/). You'd get functionalities like autocompletion, documentation, function parameters and help, console, autopep, code checking on the fly, virtual environments and debugging options. A screenshot of my python environment is given below.
![alt text](/img/python.png "Python environment in Emacs")

### IPython notebooks 

Jupyter's IPython notebooks are the RMarkdown equivalent for reproducible documentations. Although, in my personal opinion, RMarkdown provides more flexibility about the generated document and is my preferred choice for sharing reports. You can run the IPython notebook in a shell opened in Emacs `M-x shell` and typing `jupyter notebook`. Once, an IP is assigned to the notebooks, the notebooks can be opened by using [ein package](https://tkf.github.io/emacs-ipython-notebook/) in Emacs. The shell which opens the notebook session is given below.
![alt text](/img/ipshell.png "Opening notebook session")

Following that, you can obtain the list of notebooks using `M-x ein:notebooklist-open`. It provides you with a list of notebooks in the current directory.
![alt text](/img/iplist.png "List of notebooks in session")
This provides you with an interactive environment with python, markdown and latex options as seen in screenshot below.
![alt text](/img/ipNote.png "IPython notebooks in Emacs")

### Git

Most of the Emacs users will vouch for [magit](https://github.com/magit/magit) as the best Git porcelain for version control. You can enter the magit mode using `C-x g`. As you can see in the bottom buffer of the screenshot, magit is showing me all the untracked files in current directory. Since, I'm working on this blog post, the untracked files belong to this post. I 

Disclaimer: My opinion about Emacs might be biased because I've been using it for more than six years. Moreover, I haven't used vi or sublime text editor, which many of my friends vouch for to be equally good.


